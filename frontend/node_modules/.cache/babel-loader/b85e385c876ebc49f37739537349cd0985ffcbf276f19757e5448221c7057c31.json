{"ast":null,"code":"var _jsxFileName = \"D:\\\\SLIIT\\\\Year 3\\\\CSSE\\\\Smart-health-care-system\\\\frontend\\\\src\\\\pages\\\\PaymentsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { CreditCard, DollarSign, Search, Filter, Download, Eye, CheckCircle, XCircle, Clock, AlertCircle } from 'lucide-react';\nimport Card, { StatCard } from '../components/common/Card';\nimport Loader from '../components/common/Loader';\nimport Modal, { FormModal } from '../components/common/Modal';\nimport { paymentService } from '../services/paymentService';\n\n/**\r\n * Payments Page Component\r\n * Manage payments, billing, and financial transactions\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentsPage = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [payments, setPayments] = useState([]);\n  const [bills, setBills] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [selectedBill, setSelectedBill] = useState(null);\n  const [paymentData, setPaymentData] = useState({\n    method: 'card',\n    amount: 0,\n    cardNumber: '',\n    expiryDate: '',\n    cvv: ''\n  });\n  useEffect(() => {\n    fetchPayments();\n    fetchBills();\n  }, []);\n  const fetchPayments = async () => {\n    setLoading(true);\n    try {\n      // Fetch real payment history from the backend\n      const data = await paymentService.getPaymentHistory(user === null || user === void 0 ? void 0 : user._id);\n      const payments = data.data.map(payment => {\n        var _payment$appointmentI;\n        return {\n          id: payment._id,\n          patientName: `${payment.userId.firstName} ${payment.userId.lastName}`,\n          amount: payment.amount,\n          date: new Date(payment.paidAt).toISOString().split('T')[0],\n          method: payment.paymentMethod === 'card' ? 'Credit Card' : payment.paymentMethod === 'bank' ? 'Bank Transfer' : 'Digital Wallet',\n          status: payment.status,\n          transactionId: payment.transactionId,\n          description: ((_payment$appointmentI = payment.appointmentId) === null || _payment$appointmentI === void 0 ? void 0 : _payment$appointmentI.reason) || 'Appointment fee'\n        };\n      });\n      setPayments(payments);\n    } catch (error) {\n      console.error('Error fetching payments:', error);\n      // Fallback to mock data\n      const mockPayments = [{\n        id: 1,\n        patientName: 'John Doe',\n        amount: 150.00,\n        date: '2024-12-10',\n        method: 'Credit Card',\n        status: 'completed',\n        transactionId: 'TXN123456789',\n        description: 'Appointment fee'\n      }, {\n        id: 2,\n        patientName: 'Jane Smith',\n        amount: 75.00,\n        date: '2024-12-09',\n        method: 'Bank Transfer',\n        status: 'completed',\n        transactionId: 'TXN987654321',\n        description: 'Lab test fee'\n      }, {\n        id: 3,\n        patientName: 'Bob Wilson',\n        amount: 200.00,\n        date: '2024-12-08',\n        method: 'Digital Wallet',\n        status: 'pending',\n        transactionId: 'TXN456789123',\n        description: 'Consultation fee'\n      }];\n      setPayments(mockPayments);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchBills = async () => {\n    try {\n      // Fetch real unpaid bills from the backend\n      const data = await paymentService.getUnpaidBills(user === null || user === void 0 ? void 0 : user._id);\n      const bills = data.data.map(bill => {\n        var _bill$appointmentId, _bill$appointmentId2;\n        return {\n          id: bill._id,\n          patientName: `${bill.userId.firstName} ${bill.userId.lastName}`,\n          amount: bill.amount,\n          dueDate: new Date(bill.date).toISOString().split('T')[0],\n          status: bill.status,\n          description: ((_bill$appointmentId = bill.appointmentId) === null || _bill$appointmentId === void 0 ? void 0 : _bill$appointmentId.reason) || 'Appointment fee',\n          services: ['Appointment', 'Consultation'],\n          appointmentId: (_bill$appointmentId2 = bill.appointmentId) === null || _bill$appointmentId2 === void 0 ? void 0 : _bill$appointmentId2._id,\n          doctorName: `Dr. ${bill.doctorId.firstName} ${bill.doctorId.lastName}`\n        };\n      });\n      setBills(bills);\n    } catch (error) {\n      console.error('Error fetching bills:', error);\n      // Fallback to mock data\n      const mockBills = [{\n        id: 1,\n        patientName: 'John Doe',\n        amount: 300.00,\n        dueDate: '2024-12-20',\n        status: 'unpaid',\n        description: 'Monthly treatment plan',\n        services: ['Consultation', 'Lab Tests', 'Medication']\n      }, {\n        id: 2,\n        patientName: 'Jane Smith',\n        amount: 125.00,\n        dueDate: '2024-12-15',\n        status: 'overdue',\n        description: 'Follow-up appointment',\n        services: ['Appointment', 'Prescription']\n      }];\n      setBills(mockBills);\n    }\n  };\n  const filteredPayments = payments.filter(payment => {\n    const matchesSearch = payment.patientName.toLowerCase().includes(searchTerm.toLowerCase()) || payment.transactionId.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesStatus = filterStatus === 'all' || payment.status === filterStatus;\n    return matchesSearch && matchesStatus;\n  });\n  const getStatusColor = status => {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'failed':\n        return 'bg-red-100 text-red-800';\n      case 'refunded':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 32\n        }, this);\n      case 'pending':\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 30\n        }, this);\n      case 'failed':\n        return /*#__PURE__*/_jsxDEV(XCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const handlePayment = bill => {\n    setSelectedBill(bill);\n    setPaymentData({\n      method: 'card',\n      amount: bill.amount,\n      cardNumber: '',\n      expiryDate: '',\n      cvv: ''\n    });\n    setShowPaymentModal(true);\n  };\n  const processPayment = async () => {\n    try {\n      // Validate required fields\n      if (!paymentData.method || !paymentData.amount || !paymentData.cardNumber || !paymentData.expiryDate || !paymentData.cvv) {\n        alert('Please fill in all required fields');\n        return;\n      }\n      const paymentPayload = {\n        billId: selectedBill.id,\n        paymentMethod: paymentData.method,\n        amount: paymentData.amount,\n        paymentDetails: {\n          cardNumber: paymentData.cardNumber,\n          expiryDate: paymentData.expiryDate,\n          cvv: paymentData.cvv\n        }\n      };\n      const result = await paymentService.processPayment(paymentPayload);\n      console.log('Payment processed successfully:', result);\n      setShowPaymentModal(false);\n      setSelectedBill(null);\n      setPaymentData({\n        method: 'card',\n        amount: 0,\n        cardNumber: '',\n        expiryDate: '',\n        cvv: ''\n      });\n\n      // Refresh data\n      fetchPayments();\n      fetchBills();\n      alert('Payment processed successfully!');\n    } catch (error) {\n      console.error('Error processing payment:', error);\n      alert('Payment failed. Please try again.');\n    }\n  };\n  const totalRevenue = payments.filter(p => p.status === 'completed').reduce((sum, p) => sum + p.amount, 0);\n  const pendingPayments = payments.filter(p => p.status === 'pending').length;\n  const unpaidBills = bills.filter(b => b.status === 'unpaid' || b.status === 'overdue').length;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        size: \"lg\",\n        text: \"Loading payments...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"Payments & Billing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-2\",\n          children: \"Manage financial transactions and billing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Total Revenue\",\n          value: `$${totalRevenue.toLocaleString()}`,\n          change: \"+12%\",\n          changeType: \"positive\",\n          icon: DollarSign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Pending Payments\",\n          value: pendingPayments.toString(),\n          change: \"+2\",\n          changeType: \"neutral\",\n          icon: Clock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Unpaid Bills\",\n          value: unpaidBills.toString(),\n          change: \"-1\",\n          changeType: \"positive\",\n          icon: AlertCircle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Success Rate\",\n          value: \"98.5%\",\n          change: \"+0.5%\",\n          changeType: \"positive\",\n          icon: CheckCircle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"-mb-px flex space-x-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"border-b-2 border-primary-500 py-2 px-1 text-sm font-medium text-primary-600\",\n              children: \"Payment History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"border-b-2 border-transparent py-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700\",\n              children: \"Outstanding Bills\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"border-b-2 border-transparent py-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700\",\n              children: \"Reports\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search payments...\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"input-field pl-10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:w-48\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterStatus,\n              onChange: e => setFilterStatus(e.target.value),\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"completed\",\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pending\",\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"failed\",\n                children: \"Failed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"refunded\",\n                children: \"Refunded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: filteredPayments.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n          className: \"p-8 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n            className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-2\",\n            children: \"No payments found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Try adjusting your search or filter criteria.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this) : filteredPayments.map(payment => /*#__PURE__*/_jsxDEV(Card, {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(CreditCard, {\n                  className: \"w-6 h-6 text-primary-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-900\",\n                  children: payment.patientName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600\",\n                  children: payment.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [\"Transaction: \", payment.transactionId]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-500\",\n                    children: payment.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: [\"$\", payment.amount.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: payment.method\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-3 py-1 rounded-full text-sm font-medium flex items-center ${getStatusColor(payment.status)}`,\n                  children: [getStatusIcon(payment.status), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-1\",\n                    children: payment.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-outline text-sm px-3 py-1\",\n              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this), \"View Details\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-outline text-sm px-3 py-1\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this), \"Download Receipt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 17\n          }, this)]\n        }, payment.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-6\",\n          children: \"Outstanding Bills\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: bills.map(bill => /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n                    className: \"w-6 h-6 text-red-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-900\",\n                    children: bill.patientName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600\",\n                    children: bill.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-4 mt-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [\"Due: \", bill.dueDate]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [\"Services: \", bill.services.join(', ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-2xl font-bold text-gray-900\",\n                    children: [\"$\", bill.amount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `text-sm font-medium ${bill.status === 'overdue' ? 'text-red-600' : 'text-yellow-600'}`,\n                    children: bill.status === 'overdue' ? 'Overdue' : 'Unpaid'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handlePayment(bill),\n                  className: \"btn-primary\",\n                  children: \"Pay Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)\n          }, bill.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormModal, {\n        isOpen: showPaymentModal,\n        onClose: () => setShowPaymentModal(false),\n        onSubmit: processPayment,\n        title: \"Process Payment\",\n        size: \"lg\",\n        children: selectedBill && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900 mb-2\",\n              children: \"Bill Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Patient: \", selectedBill.patientName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Amount: $\", selectedBill.amount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Description: \", selectedBill.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Payment Method *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"input-field\",\n              value: paymentData.method,\n              onChange: e => setPaymentData({\n                ...paymentData,\n                method: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"card\",\n                children: \"Credit Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bank\",\n                children: \"Bank Transfer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"wallet\",\n                children: \"Digital Wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Card Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"input-field\",\n              placeholder: \"1234 5678 9012 3456\",\n              value: paymentData.cardNumber,\n              onChange: e => setPaymentData({\n                ...paymentData,\n                cardNumber: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Expiry Date *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input-field\",\n                placeholder: \"MM/YY\",\n                value: paymentData.expiryDate,\n                onChange: e => setPaymentData({\n                  ...paymentData,\n                  expiryDate: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"CVV *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input-field\",\n                placeholder: \"123\",\n                value: paymentData.cvv,\n                onChange: e => setPaymentData({\n                  ...paymentData,\n                  cvv: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Amount to Pay *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input-field\",\n              value: paymentData.amount,\n              onChange: e => setPaymentData({\n                ...paymentData,\n                amount: parseFloat(e.target.value) || 0\n              }),\n              step: \"0.01\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentsPage, \"b7dAysKIJ7uR6+3XadKIDNR8RKE=\", false, function () {\n  return [useAuth];\n});\n_c = PaymentsPage;\nexport default PaymentsPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentsPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","CreditCard","DollarSign","Search","Filter","Download","Eye","CheckCircle","XCircle","Clock","AlertCircle","Card","StatCard","Loader","Modal","FormModal","paymentService","jsxDEV","_jsxDEV","PaymentsPage","_s","user","loading","setLoading","payments","setPayments","bills","setBills","searchTerm","setSearchTerm","filterStatus","setFilterStatus","showPaymentModal","setShowPaymentModal","selectedBill","setSelectedBill","paymentData","setPaymentData","method","amount","cardNumber","expiryDate","cvv","fetchPayments","fetchBills","data","getPaymentHistory","_id","map","payment","_payment$appointmentI","id","patientName","userId","firstName","lastName","date","Date","paidAt","toISOString","split","paymentMethod","status","transactionId","description","appointmentId","reason","error","console","mockPayments","getUnpaidBills","bill","_bill$appointmentId","_bill$appointmentId2","dueDate","services","doctorName","doctorId","mockBills","filteredPayments","filter","matchesSearch","toLowerCase","includes","matchesStatus","getStatusColor","getStatusIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","handlePayment","processPayment","alert","paymentPayload","billId","paymentDetails","result","log","totalRevenue","p","reduce","sum","pendingPayments","length","unpaidBills","b","children","size","text","title","value","toLocaleString","change","changeType","icon","toString","type","placeholder","onChange","e","target","toFixed","join","onClick","isOpen","onClose","onSubmit","required","parseFloat","step","_c","$RefreshReg$"],"sources":["D:/SLIIT/Year 3/CSSE/Smart-health-care-system/frontend/src/pages/PaymentsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { \r\n  CreditCard, \r\n  DollarSign, \r\n  Search, \r\n  Filter,\r\n  Download,\r\n  Eye,\r\n  CheckCircle,\r\n  XCircle,\r\n  Clock,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport Card, { StatCard } from '../components/common/Card';\r\nimport Loader from '../components/common/Loader';\r\nimport Modal, { FormModal } from '../components/common/Modal';\r\nimport { paymentService } from '../services/paymentService';\r\n\r\n/**\r\n * Payments Page Component\r\n * Manage payments, billing, and financial transactions\r\n */\r\nconst PaymentsPage = () => {\r\n  const { user } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [payments, setPayments] = useState([]);\r\n  const [bills, setBills] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n  const [selectedBill, setSelectedBill] = useState(null);\r\n  const [paymentData, setPaymentData] = useState({\r\n    method: 'card',\r\n    amount: 0,\r\n    cardNumber: '',\r\n    expiryDate: '',\r\n    cvv: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPayments();\r\n    fetchBills();\r\n  }, []);\r\n\r\n  const fetchPayments = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Fetch real payment history from the backend\r\n      const data = await paymentService.getPaymentHistory(user?._id);\r\n      const payments = data.data.map(payment => ({\r\n        id: payment._id,\r\n        patientName: `${payment.userId.firstName} ${payment.userId.lastName}`,\r\n        amount: payment.amount,\r\n        date: new Date(payment.paidAt).toISOString().split('T')[0],\r\n        method: payment.paymentMethod === 'card' ? 'Credit Card' : \r\n                payment.paymentMethod === 'bank' ? 'Bank Transfer' : 'Digital Wallet',\r\n        status: payment.status,\r\n        transactionId: payment.transactionId,\r\n        description: payment.appointmentId?.reason || 'Appointment fee'\r\n      }));\r\n      \r\n      setPayments(payments);\r\n    } catch (error) {\r\n      console.error('Error fetching payments:', error);\r\n      // Fallback to mock data\r\n      const mockPayments = [\r\n        {\r\n          id: 1,\r\n          patientName: 'John Doe',\r\n          amount: 150.00,\r\n          date: '2024-12-10',\r\n          method: 'Credit Card',\r\n          status: 'completed',\r\n          transactionId: 'TXN123456789',\r\n          description: 'Appointment fee'\r\n        },\r\n        {\r\n          id: 2,\r\n          patientName: 'Jane Smith',\r\n          amount: 75.00,\r\n          date: '2024-12-09',\r\n          method: 'Bank Transfer',\r\n          status: 'completed',\r\n          transactionId: 'TXN987654321',\r\n          description: 'Lab test fee'\r\n        },\r\n        {\r\n          id: 3,\r\n          patientName: 'Bob Wilson',\r\n          amount: 200.00,\r\n          date: '2024-12-08',\r\n          method: 'Digital Wallet',\r\n          status: 'pending',\r\n          transactionId: 'TXN456789123',\r\n          description: 'Consultation fee'\r\n        }\r\n      ];\r\n      setPayments(mockPayments);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchBills = async () => {\r\n    try {\r\n      // Fetch real unpaid bills from the backend\r\n      const data = await paymentService.getUnpaidBills(user?._id);\r\n      const bills = data.data.map(bill => ({\r\n        id: bill._id,\r\n        patientName: `${bill.userId.firstName} ${bill.userId.lastName}`,\r\n        amount: bill.amount,\r\n        dueDate: new Date(bill.date).toISOString().split('T')[0],\r\n        status: bill.status,\r\n        description: bill.appointmentId?.reason || 'Appointment fee',\r\n        services: ['Appointment', 'Consultation'],\r\n        appointmentId: bill.appointmentId?._id,\r\n        doctorName: `Dr. ${bill.doctorId.firstName} ${bill.doctorId.lastName}`\r\n      }));\r\n      \r\n      setBills(bills);\r\n    } catch (error) {\r\n      console.error('Error fetching bills:', error);\r\n      // Fallback to mock data\r\n      const mockBills = [\r\n        {\r\n          id: 1,\r\n          patientName: 'John Doe',\r\n          amount: 300.00,\r\n          dueDate: '2024-12-20',\r\n          status: 'unpaid',\r\n          description: 'Monthly treatment plan',\r\n          services: ['Consultation', 'Lab Tests', 'Medication']\r\n        },\r\n        {\r\n          id: 2,\r\n          patientName: 'Jane Smith',\r\n          amount: 125.00,\r\n          dueDate: '2024-12-15',\r\n          status: 'overdue',\r\n          description: 'Follow-up appointment',\r\n          services: ['Appointment', 'Prescription']\r\n        }\r\n      ];\r\n      setBills(mockBills);\r\n    }\r\n  };\r\n\r\n  const filteredPayments = payments.filter(payment => {\r\n    const matchesSearch = payment.patientName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         payment.transactionId.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesStatus = filterStatus === 'all' || payment.status === filterStatus;\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'completed': return 'bg-green-100 text-green-800';\r\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'failed': return 'bg-red-100 text-red-800';\r\n      case 'refunded': return 'bg-blue-100 text-blue-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'completed': return <CheckCircle className=\"w-4 h-4\" />;\r\n      case 'pending': return <Clock className=\"w-4 h-4\" />;\r\n      case 'failed': return <XCircle className=\"w-4 h-4\" />;\r\n      default: return <AlertCircle className=\"w-4 h-4\" />;\r\n    }\r\n  };\r\n\r\n  const handlePayment = (bill) => {\r\n    setSelectedBill(bill);\r\n    setPaymentData({\r\n      method: 'card',\r\n      amount: bill.amount,\r\n      cardNumber: '',\r\n      expiryDate: '',\r\n      cvv: ''\r\n    });\r\n    setShowPaymentModal(true);\r\n  };\r\n\r\n  const processPayment = async () => {\r\n    try {\r\n      // Validate required fields\r\n      if (!paymentData.method || !paymentData.amount || !paymentData.cardNumber || !paymentData.expiryDate || !paymentData.cvv) {\r\n        alert('Please fill in all required fields');\r\n        return;\r\n      }\r\n\r\n      const paymentPayload = {\r\n        billId: selectedBill.id,\r\n        paymentMethod: paymentData.method,\r\n        amount: paymentData.amount,\r\n        paymentDetails: {\r\n          cardNumber: paymentData.cardNumber,\r\n          expiryDate: paymentData.expiryDate,\r\n          cvv: paymentData.cvv\r\n        }\r\n      };\r\n\r\n      const result = await paymentService.processPayment(paymentPayload);\r\n      console.log('Payment processed successfully:', result);\r\n      \r\n      setShowPaymentModal(false);\r\n      setSelectedBill(null);\r\n      setPaymentData({\r\n        method: 'card',\r\n        amount: 0,\r\n        cardNumber: '',\r\n        expiryDate: '',\r\n        cvv: ''\r\n      });\r\n      \r\n      // Refresh data\r\n      fetchPayments();\r\n      fetchBills();\r\n      \r\n      alert('Payment processed successfully!');\r\n    } catch (error) {\r\n      console.error('Error processing payment:', error);\r\n      alert('Payment failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  const totalRevenue = payments\r\n    .filter(p => p.status === 'completed')\r\n    .reduce((sum, p) => sum + p.amount, 0);\r\n\r\n  const pendingPayments = payments.filter(p => p.status === 'pending').length;\r\n  const unpaidBills = bills.filter(b => b.status === 'unpaid' || b.status === 'overdue').length;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <Loader size=\"lg\" text=\"Loading payments...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Payments & Billing</h1>\r\n          <p className=\"text-gray-600 mt-2\">Manage financial transactions and billing</p>\r\n        </div>\r\n\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n          <StatCard\r\n            title=\"Total Revenue\"\r\n            value={`$${totalRevenue.toLocaleString()}`}\r\n            change=\"+12%\"\r\n            changeType=\"positive\"\r\n            icon={DollarSign}\r\n          />\r\n          <StatCard\r\n            title=\"Pending Payments\"\r\n            value={pendingPayments.toString()}\r\n            change=\"+2\"\r\n            changeType=\"neutral\"\r\n            icon={Clock}\r\n          />\r\n          <StatCard\r\n            title=\"Unpaid Bills\"\r\n            value={unpaidBills.toString()}\r\n            change=\"-1\"\r\n            changeType=\"positive\"\r\n            icon={AlertCircle}\r\n          />\r\n          <StatCard\r\n            title=\"Success Rate\"\r\n            value=\"98.5%\"\r\n            change=\"+0.5%\"\r\n            changeType=\"positive\"\r\n            icon={CheckCircle}\r\n          />\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"-mb-px flex space-x-8\">\r\n              <button className=\"border-b-2 border-primary-500 py-2 px-1 text-sm font-medium text-primary-600\">\r\n                Payment History\r\n              </button>\r\n              <button className=\"border-b-2 border-transparent py-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700\">\r\n                Outstanding Bills\r\n              </button>\r\n              <button className=\"border-b-2 border-transparent py-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700\">\r\n                Reports\r\n              </button>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <Card className=\"p-6 mb-8\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search payments...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"input-field pl-10\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"sm:w-48\">\r\n              <select\r\n                value={filterStatus}\r\n                onChange={(e) => setFilterStatus(e.target.value)}\r\n                className=\"input-field\"\r\n              >\r\n                <option value=\"all\">All Status</option>\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"failed\">Failed</option>\r\n                <option value=\"refunded\">Refunded</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Payments List */}\r\n        <div className=\"space-y-4\">\r\n          {filteredPayments.length === 0 ? (\r\n            <Card className=\"p-8 text-center\">\r\n              <CreditCard className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No payments found</h3>\r\n              <p className=\"text-gray-600\">Try adjusting your search or filter criteria.</p>\r\n            </Card>\r\n          ) : (\r\n            filteredPayments.map((payment) => (\r\n              <Card key={payment.id} className=\"p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center\">\r\n                      <CreditCard className=\"w-6 h-6 text-primary-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {payment.patientName}\r\n                      </h3>\r\n                      <p className=\"text-gray-600\">{payment.description}</p>\r\n                      <div className=\"flex items-center space-x-4 mt-1\">\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          Transaction: {payment.transactionId}\r\n                        </span>\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          {payment.date}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">\r\n                        ${payment.amount.toFixed(2)}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500\">{payment.method}</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium flex items-center ${getStatusColor(payment.status)}`}>\r\n                        {getStatusIcon(payment.status)}\r\n                        <span className=\"ml-1\">{payment.status}</span>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"mt-4 flex space-x-2\">\r\n                  <button className=\"btn-outline text-sm px-3 py-1\">\r\n                    <Eye className=\"w-4 h-4 mr-1\" />\r\n                    View Details\r\n                  </button>\r\n                  <button className=\"btn-outline text-sm px-3 py-1\">\r\n                    <Download className=\"w-4 h-4 mr-1\" />\r\n                    Download Receipt\r\n                  </button>\r\n                </div>\r\n              </Card>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Outstanding Bills */}\r\n        <div className=\"mt-12\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Outstanding Bills</h2>\r\n          <div className=\"space-y-4\">\r\n            {bills.map((bill) => (\r\n              <Card key={bill.id} className=\"p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center\">\r\n                      <AlertCircle className=\"w-6 h-6 text-red-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {bill.patientName}\r\n                      </h3>\r\n                      <p className=\"text-gray-600\">{bill.description}</p>\r\n                      <div className=\"flex items-center space-x-4 mt-1\">\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          Due: {bill.dueDate}\r\n                        </span>\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          Services: {bill.services.join(', ')}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">\r\n                        ${bill.amount.toFixed(2)}\r\n                      </p>\r\n                      <p className={`text-sm font-medium ${\r\n                        bill.status === 'overdue' ? 'text-red-600' : 'text-yellow-600'\r\n                      }`}>\r\n                        {bill.status === 'overdue' ? 'Overdue' : 'Unpaid'}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <button\r\n                      onClick={() => handlePayment(bill)}\r\n                      className=\"btn-primary\"\r\n                    >\r\n                      Pay Now\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Modal */}\r\n        <FormModal\r\n          isOpen={showPaymentModal}\r\n          onClose={() => setShowPaymentModal(false)}\r\n          onSubmit={processPayment}\r\n          title=\"Process Payment\"\r\n          size=\"lg\"\r\n        >\r\n          {selectedBill && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-2\">Bill Details</h3>\r\n                <p className=\"text-sm text-gray-600\">Patient: {selectedBill.patientName}</p>\r\n                <p className=\"text-sm text-gray-600\">Amount: ${selectedBill.amount.toFixed(2)}</p>\r\n                <p className=\"text-sm text-gray-600\">Description: {selectedBill.description}</p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"label\">Payment Method *</label>\r\n                <select \r\n                  className=\"input-field\"\r\n                  value={paymentData.method}\r\n                  onChange={(e) => setPaymentData({...paymentData, method: e.target.value})}\r\n                  required\r\n                >\r\n                  <option value=\"card\">Credit Card</option>\r\n                  <option value=\"bank\">Bank Transfer</option>\r\n                  <option value=\"wallet\">Digital Wallet</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"label\">Card Number *</label>\r\n                <input \r\n                  type=\"text\" \r\n                  className=\"input-field\" \r\n                  placeholder=\"1234 5678 9012 3456\"\r\n                  value={paymentData.cardNumber}\r\n                  onChange={(e) => setPaymentData({...paymentData, cardNumber: e.target.value})}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"label\">Expiry Date *</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    className=\"input-field\" \r\n                    placeholder=\"MM/YY\"\r\n                    value={paymentData.expiryDate}\r\n                    onChange={(e) => setPaymentData({...paymentData, expiryDate: e.target.value})}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"label\">CVV *</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    className=\"input-field\" \r\n                    placeholder=\"123\"\r\n                    value={paymentData.cvv}\r\n                    onChange={(e) => setPaymentData({...paymentData, cvv: e.target.value})}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"label\">Amount to Pay *</label>\r\n                <input \r\n                  type=\"number\" \r\n                  className=\"input-field\" \r\n                  value={paymentData.amount}\r\n                  onChange={(e) => setPaymentData({...paymentData, amount: parseFloat(e.target.value) || 0})}\r\n                  step=\"0.01\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </FormModal>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}